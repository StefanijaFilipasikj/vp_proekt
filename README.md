# Stack Attack

**[DOWNLOAD GAME HERE](https://mega.nz/file/cy90jKQT#dhJh2-3SNRYgObpouKo5IL1xlbDVBziJQGSmTKvssfg)**

**ЗАБЕЛЕШКА**: Кога се прегледува проектот во **Unity**, потребно е да се смени полето кај `Game` прозорецот од `Free Aspect` во `Full HD (1920x1080)` бидејќи играта е стриктно направена за таа резолуција.

<br>

**1. Опис на игра:**
 - Stack Attack е игра која го предизвикува играчот брзо да размислува и да направи добро пресметани потези со цел да добие повеќе поени и да ја совлада механиката на играта. Ова претставува рекреација на познатата игра на старите телефони Siemens и оригиналната игра може да ја погледнете [тука](https://www.youtube.com/watch?v=cjh7mMdTulk).
- При стартување на играта се појавува прозорец (Слика 1) каде што има 3 опции:
   - Со првата опција `Play` играта започнува. Но најпрво пожелно е играчот да го внесе своето име во полето `Your name...` со цел подоцна да бидат зачувани податоците за неговите поени.
   - Со притискање на `Difficulty` се отвара нов прозорец каде што играчот може да ја избере тежината на играта. Има 3 опции: `Easy`, `Medium` и `Hard`. (Слика 2)
   - И со избирање на последната опција `Exit` се затвара играта.

 <div align = "center">
  
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/177ee95c-2a0a-476f-8590-02a65087650b" alt="StackAttack_Menu" width="700">
<p>Слика 1</p>
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/b0007c44-2c23-4bf9-9d79-895856e7c7ba" alt="StackAttack_Difficulty" width="700">
<p>Слика 2</p>

 </div>

 - Играта започнува со неколку случајно поставени кутии (Слика 3). Кутиите се спуштаат од горниот дел на екранот и откако ќе стигнат до подот играчот ќе може да ги поместува налево или надесно. Има и една дополнителна црна кутија која не може да се поместува. Целта е да се направи целосно пополнет ред од кутии кои, слично како кај играта тетрис, ќе се уништи редот и со тоа играчот добива поени коишто се прикажани во горниот десен агол на прозорецот. 100 поени се добиваат со секоја скршена кутија, а 200 поени за секоја кутија ако се скрши цел ред.

<div align = "center">
   
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/d2595720-82b7-4e37-b0ea-8394b4c3807d" alt="StackAttack_Play" width="700">
<p>Слика 3</p>

</div>
     
- Освен кутии на подот може да се спуштат и други објекти **"power-ups"**, коишто на играчот му даваат привремени моќи. Синиот помошник (Слика 4) го забрзува движењето на играчот, а зелениот (Слика 6) му овозможува да скокне повисоко. Времетраењето на двата е 10 секунди. Последниот помошник е бомбата (Слика 5) со која играчот може да ги уништи околните кутии и за истите да добие поени.

<div align="center">

<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/be1775dd-ed5a-460f-99a5-a96356640b12" alt="StackAttack_BluPowerUp" width="200">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/b8a0b54b-3c0b-4182-bc18-5a06b70e3ed0" alt="StackAttack_BombSprite" width="200">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/62017b91-ed23-4149-b46a-b5576622fa8e" alt="StackAttack_GreenPowerUp" width="200">
<br>
Слика 4 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Слика 5 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Слика 6

</div>

<br>
     
 - Додека паѓаат кутиите играчот има опција да скокне кон нив и да ги уништи пред да дојдат до земјата. Играта завршува кога на главата на играчот ќе падне кутија, или една колона ќе биде целосно пополнета со кутии и со тоа се појавува прозорецот на кој пишува **"Game Over"** (Слика 7). Тука играчот може да види колку пени освоил.
Во `Leaderboard` може да се видат поените од претходно изиграните игри подредени според бројот на освоените поени (Слика 8). Овие резултати се зачувуваат долку играчот притисне на копчето `Еxit`. 
Играчот потоа има опција да започне нова игра со притискање на `Play again` или пак целосно да ја затвори играта со `Exit`.

<div align="center">

<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/0bebb58a-3303-44ac-a274-56fdce06daf7" alt="StackAttack_GameOver" width="700">
<p>Слика 7</p>


<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/3ec31c26-b371-46a7-9449-fd7bcf19d305" alt="StackAttack_Leaderboard" width="700">
<p>Слика 8</p>

</div>

<br>

**2. Опис на решението:**
-	Сите потребни скрипти може да се пронајдат во фолдерот `Assets/Scripts`. Сите фајлови со екстензија `.cs` се скриптите, додека фалјовите со екстензија `.cs.meta` се креирани автоматски од **Unity**
 -	Сите функции се опишани во скриптите со соодветни коментари
  -	Играта е креирана со 11 скрипти од кои што најважната е скриптата `Scene`.
 -	Кутиите се чуваат во дводимензионална листа која што се пополнува со една кутија кога таа ќе престане да се движи. Листата го претставува координатниот систем на играта каде што кутијата `Boxes[0][1]` припаѓа на првата колона и на вториот ред. Го одбравме овој начин на чување на кутиите бидејќи вака најлесно може да се креира играта. Доколку ни е потребен следниот ред каде што може да се смести кутија, можеме само да повикаме `Boxes[column].Count`
 -	Сите колизии се направени со системот на колизии на **Unity**, каде што се користат `Triggers` за детекција дека некој објект е во внатрешноста на друг објект.
 -	Зачувувањето на играчите и нивните највисоки поени е направено со серијализација на играчите во фајл кој што се наоѓа во фолдерот `Stack Attack_Data` на играта, а во фолдерот `Assets` на проектот.

<br>

**3. Опис на главните функции:**
- Функција за генерирање кутија: `GenerateBox()` во скриптата `Scene.cs` (Слика 9)
    - Кутиите автоматски се генерираат на одредено време со random боја и колона, а за црната кутија и сите **“power-ups”** се користи random број за да се добие посакуваната шанса да се појави одредениот објект.
    - Променливата `side` претставува страната од која што ќе се појави кутијата (0-лево, 1-десно).
    - Променливата `ChanceForBlack` и `ChanceForPowerUp` претставуваат процентите на кои што има шанса да се појави објектот. Овие се променуваат во зависност од тежината на играта.
    - Со функцијата `Instantiate()` креираме клон од од кутијата. Оваа функција има потреба од три аргументи(референца до објектот, позиција, ротација).
   - Преку функцијата `GetComponent<>()` пристапуваме до одредената компонента на објектот, во овој случај скриптата на кутијата. Скриптата ни е потребна за да ги иницијализираме потребните фредности на функцијата.

<div align="center">
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/97c0833d-1ddb-4796-8c59-f0800cb1406b" alt="GenerateBox" width="600">
   <p>Слика 9</p>
</div>

 - Функцијата за движење на кутија: `Move()` во скриптата `BoxScript.cs` (Слика 10)
     - Функцијата `Move()` прима еден аргумент, страната на која треба да се подвижи.
     - Доколку кутијата не е црна, се проверуваат неколку работи:
       - Дали кутијата не е на крај на екранот.
       - Дали оваа кутија е последната кутија која не се движи во колоната.
       - Дали има простор во наредната колона и на која страна ја движиме.
   - Доколку се исполнат условите, кутијата се поместува во одредениот правец:
     - Се трга од матрицата на кутии.
     - Се намалува или зголемува колоната.
     - Се ресетираат логичките променливи потребни за кутијата повторно да се движи.
   - Функцијата се повикува од страна на играчот кога ќе се придвижи и ја допира кутијата во скриптите `BoxMoverLeftScript.cs` и `BoxMoverRightScript.cs`

<div align="center">
<img src="https://github.com/StefanijaFilipasikj/vp_proekt/assets/108759729/561092e4-3d26-4d67-89ab-ea2d18226aa5" alt="Move" width="900">
<p>Слика 10</p>
</div>
